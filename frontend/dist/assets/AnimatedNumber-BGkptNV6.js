import{w as F,x as h,y as S,J as R,z as A,D as b,r as i,E as C,F as M,G as w,H as g,j as D}from"./index-BOPlgZ3J.js";function O(...t){const n=!Array.isArray(t[0]),o=n?0:-1,r=t[0+o],e=t[1+o],u=t[2+o],s=t[3+o],a=F(e,u,s);return n?a(r):a}function j(t,n,o={}){const r=t.get();let e=null,u=r,s;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{e&&(e.stop(),e=null)},p=()=>{l();const c=y(t.get()),f=y(u);c!==f&&(e=new R({keyframes:[c,f],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...o,onUpdate:s}))};if(t.attach((c,f)=>{u=c,s=m=>f(d(m,a)),h.postRender(()=>{p(),t.events.animationStart?.notify(),e?.then(()=>{t.events.animationComplete?.notify()})})},l),S(n)){const c=n.on("change",m=>t.set(d(m,a))),f=t.on("destroy",c);return()=>{c(),f()}}return l}function d(t,n){return n?t+n:t}function y(t){return typeof t=="number"?t:parseFloat(t)}function x(t){const n=A(()=>b(t)),{isStatic:o}=i.useContext(C);if(o){const[,r]=i.useState(t);i.useEffect(()=>n.on("change",r),[])}return n}function E(t,n){const o=x(n()),r=()=>o.set(n());return r(),M(()=>{const e=()=>h.preRender(r,!1,!0),u=t.map(s=>s.on("change",e));return()=>{u.forEach(s=>s()),w(r)}}),o}function I(t){g.current=[],t();const n=E(g.current,t);return g.current=void 0,n}function J(t,n,o,r){if(typeof t=="function")return I(t);const u=O(n,o,r);return Array.isArray(t)?V(t,u):V([t],([s])=>u(s))}function V(t,n){const o=A(()=>[]);return E(t,()=>{o.length=0;const r=t.length;for(let e=0;e<r;e++)o[e]=t[e].get();return n(o)})}function L(t,n={}){const{isStatic:o}=i.useContext(C),r=()=>S(t)?t.get():t;if(o)return J(r);const e=x(r());return i.useInsertionEffect(()=>j(e,t,n),[e,JSON.stringify(n)]),e}function N(t,n={}){return L(t,{type:"spring",...n})}const T=({value:t,format:n="number",prefix:o="",suffix:r="",decimals:e=0,className:u=""})=>{const s=i.useRef(),a=N(t,{stiffness:100,damping:30,restDelta:.001});return i.useEffect(()=>{a.set(t)},[t,a]),i.useEffect(()=>{const l=a.on("change",p=>{if(s.current){const c=n==="currency"?p.toFixed(e):n==="integer"?Math.round(p):p.toFixed(e);s.current.textContent=`${o}${c}${r}`}});return()=>l()},[a,n,o,r,e]),D.jsxs("span",{ref:s,className:u,children:[o,t.toFixed(e),r]})};export{T as A};
