import{N as p,W as h,r as i,j as e,B as x,X as n}from"./index-DhQy7Vb3.js";import{C as f,c as N,d as y,e as g,a as b}from"./card-D8EwhQuE.js";import{A as j}from"./AddressForm-vqLJqhTA.js";import{a as v}from"./address.service-DnCuCZHf.js";import{A}from"./arrow-left-CKb50wlr.js";import{M as C}from"./map-pin-D_KXloBV.js";import"./label-ChJsfNxV.js";import"./index-CwXijMcI.js";const k=()=>{const t=p(),{user:r}=h(),[d,a]=i.useState(!1),[o,c]=i.useState({firstName:r?.fullName?.split(" ")[0]||"",lastName:r?.fullName?.split(" ")[1]||"",address:"",city:"",state:"",zip:"",phoneNumber:r?.phoneNumber||""}),l=s=>{c({...o,[s.target.name]:s.target.value})},m=async s=>{a(!0);try{await v.addAddress({fullName:`${s.firstName} ${s.lastName}`,street:s.address,city:s.city,state:s.state,country:"India",zipCode:s.zip,phoneNumber:s.phoneNumber,addressType:"Home"}),n({title:"Success",description:"Address added successfully"}),t("/account?tab=address")}catch(u){n({title:"Error",description:u.message||"Failed to add address",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"container py-8 max-w-2xl",children:[e.jsxs(x,{variant:"ghost",className:"mb-6 hover:bg-transparent hover:text-primary transition-colors group p-0",onClick:()=>t("/account"),children:[e.jsx(A,{className:"mr-2 h-4 w-4 transition-transform group-hover:-translate-x-1"})," Back to Account"]}),e.jsxs(f,{className:"border-none shadow-lg",children:[e.jsxs(N,{children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mb-4",children:e.jsx(C,{className:"w-6 h-6"})}),e.jsx(y,{className:"text-2xl",children:"Add New Address"}),e.jsx(g,{children:"Enter your delivery details below."})]}),e.jsx(b,{children:e.jsx(j,{formData:o,handleChange:l,onSubmit:m,isLoading:d,onCancel:()=>t("/account"),showSubmitButton:!0})})]})]})};export{k as default};
