import{k as f,b as y,j as e,m as o,L as l,l as v,B as c,n as p}from"./index-Wtch0-zL.js";import{C as b,a as j,b as w}from"./card-D9j2Wq-Q.js";import{E as N}from"./eye-DyXlGjoB.js";const T=({product:t})=>{const{addToCart:g}=f(),{toast:d}=y(),m=t.images&&t.images.length>0?t.images[0]:"/placeholder-product.png",a=t._id,s=t.name,r=t.price,n=t.compareAtPrice,h=t.categoryId?.name||t.category,i=t.trackInventory&&t.stock<=0,x=u=>{if(u&&u.preventDefault(),i){d({title:"Out of Stock",description:"This product is currently out of stock.",variant:"destructive"});return}g({pid:a,id:a,name:s,image:m,price:r,discountPrice:r,quantity:1,category:h,sku:t.sku,isStoreProduct:!0}),d({title:"Added to cart",description:`${s} added to your cart.`})};return e.jsx(o.div,{whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},className:"group h-full",children:e.jsxs(b,{className:"h-full flex flex-col overflow-hidden border-none shadow-sm hover:shadow-2xl transition-all duration-500 bg-card rounded-2xl",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted shrink-0",children:[e.jsx(l,{to:`/store-product/${a}`,className:"block h-full w-full bg-white",children:e.jsx(o.img,{src:m,alt:s,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),i&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx(v,{className:"bg-red-500 text-white",children:"Out of Stock"})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-3 bg-black/40 backdrop-blur-[2px] opacity-0 group-hover:opacity-100 transition-all duration-300 hidden md:flex pointer-events-none",children:[e.jsx(o.div,{initial:{y:20,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},className:"group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-75 pointer-events-auto",children:e.jsx(c,{size:"icon",variant:"secondary",className:"rounded-full h-12 w-12 shadow-xl bg-white text-primary hover:bg-primary hover:text-white border-none",onClick:x,disabled:i,children:e.jsx(p,{className:"h-5 w-5"})})}),e.jsx(o.div,{initial:{y:20,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},className:"group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-150 pointer-events-auto",children:e.jsx(c,{size:"icon",variant:"secondary",className:"rounded-full h-12 w-12 shadow-xl bg-white text-primary hover:bg-primary hover:text-white border-none",asChild:!0,children:e.jsx(l,{to:`/store-product/${a}`,children:e.jsx(N,{className:"h-5 w-5"})})})})]})]}),e.jsxs(j,{className:"p-3 md:p-4 flex-grow",children:[e.jsx(l,{to:`/store-product/${a}`,children:e.jsx("h3",{className:"line-clamp-1 text-sm md:text-base font-bold text-foreground hover:text-primary transition-colors",children:s})}),e.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground mt-1 font-medium uppercase tracking-wider",children:[h,t.subcategoryId?.name&&` > ${t.subcategoryId.name}`]})]}),e.jsxs(w,{className:"p-3 md:p-4 pt-0 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsxs("span",{className:"text-base md:text-lg font-black text-primary truncate",children:["₹",r]}),n&&n>r&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["₹",n]})]}),e.jsx("div",{className:"flex md:hidden gap-2 shrink-0",children:e.jsx(c,{size:"icon",variant:"secondary",className:"rounded-full h-9 w-9 bg-primary/10 text-primary hover:bg-primary hover:text-white border-none",onClick:x,disabled:i,children:e.jsx(p,{className:"h-4 w-4"})})})]})]})})};export{T as S};
