import{Y as E,Z as h,_ as S,$ as F,a0 as A,a1 as b,r as i,a2 as C,a3 as M,a4 as O,a5 as g,j as $}from"./index-DhQy7Vb3.js";function j(...t){const n=!Array.isArray(t[0]),o=n?0:-1,r=t[0+o],e=t[1+o],a=t[2+o],s=t[3+o],u=E(e,a,s);return n?u(r):u}function w(t,n,o={}){const r=t.get();let e=null,a=r,s;const u=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{e&&(e.stop(),e=null)},p=()=>{l();const c=y(t.get()),f=y(a);c!==f&&(e=new F({keyframes:[c,f],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...o,onUpdate:s}))};if(t.attach((c,f)=>{a=c,s=m=>f(d(m,u)),h.postRender(()=>{p(),t.events.animationStart?.notify(),e?.then(()=>{t.events.animationComplete?.notify()})})},l),S(n)){const c=n.on("change",m=>t.set(d(m,u))),f=t.on("destroy",c);return()=>{c(),f()}}return l}function d(t,n){return n?t+n:t}function y(t){return typeof t=="number"?t:parseFloat(t)}function R(t){const n=A(()=>b(t)),{isStatic:o}=i.useContext(C);if(o){const[,r]=i.useState(t);i.useEffect(()=>n.on("change",r),[])}return n}function x(t,n){const o=R(n()),r=()=>o.set(n());return r(),M(()=>{const e=()=>h.preRender(r,!1,!0),a=t.map(s=>s.on("change",e));return()=>{a.forEach(s=>s()),O(r)}}),o}function D(t){g.current=[],t();const n=x(g.current,t);return g.current=void 0,n}function I(t,n,o,r){if(typeof t=="function")return D(t);const a=j(n,o,r);return Array.isArray(t)?V(t,a):V([t],([s])=>a(s))}function V(t,n){const o=A(()=>[]);return x(t,()=>{o.length=0;const r=t.length;for(let e=0;e<r;e++)o[e]=t[e].get();return n(o)})}function L(t,n={}){const{isStatic:o}=i.useContext(C),r=()=>S(t)?t.get():t;if(o)return I(r);const e=R(r());return i.useInsertionEffect(()=>w(e,t,n),[e,JSON.stringify(n)]),e}function N(t,n={}){return L(t,{type:"spring",...n})}const T=({value:t,format:n="number",prefix:o="",suffix:r="",decimals:e=0,className:a=""})=>{const s=i.useRef(),u=N(t,{stiffness:100,damping:30,restDelta:.001});return i.useEffect(()=>{u.set(t)},[t,u]),i.useEffect(()=>{const l=u.on("change",p=>{if(s.current){const c=n==="currency"?p.toFixed(e):n==="integer"?Math.round(p):p.toFixed(e);s.current.textContent=`${o}${c}${r}`}});return()=>l()},[u,n,o,r,e]),$.jsxs("span",{ref:s,className:a,children:[o,t.toFixed(e),r]})};export{T as A};
