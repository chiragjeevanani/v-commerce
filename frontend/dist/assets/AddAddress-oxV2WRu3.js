import{i as p,s as h,r as i,j as s,B as x,M as f,v as n}from"./index-Wtch0-zL.js";import{C as N,c as y,d as g,e as b,a as j}from"./card-D9j2Wq-Q.js";import{A as v}from"./AddressForm-CLWPazve.js";import{a as A}from"./address.service-CtCAs7C3.js";import{A as C}from"./arrow-left-CGzelT5v.js";import"./label-W3Hee3RC.js";import"./index-DE7YZteN.js";const L=()=>{const t=p(),{user:a}=h(),[d,r]=i.useState(!1),[o,c]=i.useState({firstName:a?.fullName?.split(" ")[0]||"",lastName:a?.fullName?.split(" ")[1]||"",address:"",city:"",state:"",zip:"",phoneNumber:a?.phoneNumber||""}),l=e=>{c({...o,[e.target.name]:e.target.value})},m=async e=>{r(!0);try{await A.addAddress({fullName:`${e.firstName} ${e.lastName}`,street:e.address,city:e.city,state:e.state,country:"India",zipCode:e.zip,phoneNumber:e.phoneNumber,addressType:"Home"}),n({title:"Success",description:"Address added successfully"}),t("/account?tab=address")}catch(u){n({title:"Error",description:u.message||"Failed to add address",variant:"destructive"})}finally{r(!1)}};return s.jsxs("div",{className:"container py-8 max-w-2xl",children:[s.jsxs(x,{variant:"ghost",className:"mb-6 hover:bg-transparent hover:text-primary transition-colors group p-0",onClick:()=>t("/account"),children:[s.jsx(C,{className:"mr-2 h-4 w-4 transition-transform group-hover:-translate-x-1"})," Back to Account"]}),s.jsxs(N,{className:"border-none shadow-lg",children:[s.jsxs(y,{children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mb-4",children:s.jsx(f,{className:"w-6 h-6"})}),s.jsx(g,{className:"text-2xl",children:"Add New Address"}),s.jsx(b,{children:"Enter your delivery details below."})]}),s.jsx(j,{children:s.jsx(v,{formData:o,handleChange:l,onSubmit:m,isLoading:d,onCancel:()=>t("/account"),showSubmitButton:!0})})]})]})};export{L as default};
