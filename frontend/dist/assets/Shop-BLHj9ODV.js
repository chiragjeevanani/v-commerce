import{c as wt,r as n,j as e,b as yt,u as Ct,d as Ie,R as Nt,e as Pe,f as $,g as G,h as _e,i as Pt,V as bt,k as It,l as O,P as jt,n as Me,o as Tt,p as Et,q as Rt,s as _t,F as Mt,D as At,t as Ot,v as Lt,w as Ae,x as Y,y as Dt,z as kt,E as Vt,G as Bt,S as Ft,H as Ht,B as je,I as Wt,J as Ut,K as $t,M as Kt,m as Te,A as zt}from"./index-DEuHK2Q3.js";import{p as Ee}from"./products.service-CixRTqH0.js";import{S as Gt,P as Yt}from"./SkeletonCard-Bc6wcaWu.js";import{c as Re,S as qt}from"./slider-B90v_FId.js";import{C as Zt}from"./checkbox-uuUhyn_y.js";import{u as Xt}from"./index-kT1GkHnk.js";import{F as Jt}from"./funnel-vDYY9rZr.js";import{L as Qt}from"./loader-circle-BsbfwBNe.js";import"./mockData-Da8oLpbF.js";import"./card-D9v-e9xN.js";import"./eye-DO0kEvpG.js";const eo=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],to=wt("chevron-up",eo);function oo(o,r=[]){let t=[];function a(d,l){const c=n.createContext(l),i=t.length;t=[...t,l];const p=g=>{const{scope:I,children:N,...C}=g,u=I?.[o]?.[i]||c,x=n.useMemo(()=>C,Object.values(C));return e.jsx(u.Provider,{value:x,children:N})};p.displayName=d+"Provider";function S(g,I){const N=I?.[o]?.[i]||c,C=n.useContext(N);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${d}\``)}return[p,S]}const s=()=>{const d=t.map(l=>n.createContext(l));return function(c){const i=c?.[o]||d;return n.useMemo(()=>({[`__scope${o}`]:{...c,[o]:i}}),[c,i])}};return s.scopeName=o,[a,no(s,...r)]}function no(...o){const r=o[0];if(o.length===1)return r;const t=()=>{const a=o.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(d){const l=a.reduce((c,{useScope:i,scopeName:p})=>{const g=i(d)[`__scope${p}`];return{...c,...g}},{});return n.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return t.scopeName=r.scopeName,t}function Oe(o){const r=ro(o),t=n.forwardRef((a,s)=>{const{children:d,...l}=a,c=n.Children.toArray(d),i=c.find(ao);if(i){const p=i.props.children,S=c.map(g=>g===i?n.Children.count(p)>1?n.Children.only(null):n.isValidElement(p)?p.props.children:null:g);return e.jsx(r,{...l,ref:s,children:n.isValidElement(p)?n.cloneElement(p,void 0,S):null})}return e.jsx(r,{...l,ref:s,children:d})});return t.displayName=`${o}.Slot`,t}function ro(o){const r=n.forwardRef((t,a)=>{const{children:s,...d}=t;if(n.isValidElement(s)){const l=co(s),c=lo(d,s.props);return s.type!==n.Fragment&&(c.ref=a?yt(a,l):l),n.cloneElement(s,c)}return n.Children.count(s)>1?n.Children.only(null):null});return r.displayName=`${o}.SlotClone`,r}var so=Symbol("radix.slottable");function ao(o){return n.isValidElement(o)&&typeof o.type=="function"&&"__radixId"in o.type&&o.type.__radixId===so}function lo(o,r){const t={...r};for(const a in r){const s=o[a],d=r[a];/^on[A-Z]/.test(a)?s&&d?t[a]=(...c)=>{const i=d(...c);return s(...c),i}:s&&(t[a]=s):a==="style"?t[a]={...s,...d}:a==="className"&&(t[a]=[s,d].filter(Boolean).join(" "))}return{...o,...t}}function co(o){let r=Object.getOwnPropertyDescriptor(o.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?o.ref:(r=Object.getOwnPropertyDescriptor(o,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?o.props.ref:o.props.ref||o.ref)}var io=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k=io.reduce((o,r)=>{const t=Oe(`Primitive.${r}`),a=n.forwardRef((s,d)=>{const{asChild:l,...c}=s,i=l?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(i,{...c,ref:d})});return a.displayName=`Primitive.${r}`,{...o,[r]:a}},{}),uo=[" ","Enter","ArrowUp","ArrowDown"],po=[" ","Enter"],Q="Select",[de,ue,fo]=Pt(Q),[ne]=oo(Q,[fo,_e]),pe=_e(),[mo,q]=ne(Q),[ho,go]=ne(Q),Le=o=>{const{__scopeSelect:r,children:t,open:a,defaultOpen:s,onOpenChange:d,value:l,defaultValue:c,onValueChange:i,dir:p,name:S,autoComplete:g,disabled:I,required:N,form:C}=o,u=pe(r),[x,P]=n.useState(null),[f,w]=n.useState(null),[H,V]=n.useState(!1),te=Ct(p),[A,L]=Ie({prop:a,defaultProp:s??!1,onChange:d,caller:Q}),[W,U]=Ie({prop:l,defaultProp:c,onChange:i,caller:Q}),h=n.useRef(null),v=x?C||!!x.closest("form"):!0,[y,b]=n.useState(new Set),R=Array.from(y).map(j=>j.props.value).join(";");return e.jsx(Nt,{...u,children:e.jsxs(mo,{required:N,scope:r,trigger:x,onTriggerChange:P,valueNode:f,onValueNodeChange:w,valueNodeHasChildren:H,onValueNodeHasChildrenChange:V,contentId:Pe(),value:W,onValueChange:U,open:A,onOpenChange:L,dir:te,triggerPointerDownPosRef:h,disabled:I,children:[e.jsx(de.Provider,{scope:r,children:e.jsx(ho,{scope:o.__scopeSelect,onNativeOptionAdd:n.useCallback(j=>{b(B=>new Set(B).add(j))},[]),onNativeOptionRemove:n.useCallback(j=>{b(B=>{const K=new Set(B);return K.delete(j),K})},[]),children:t})}),v?e.jsxs(st,{"aria-hidden":!0,required:N,tabIndex:-1,name:S,autoComplete:g,value:W,onChange:j=>U(j.target.value),disabled:I,form:C,children:[W===void 0?e.jsx("option",{value:""}):null,Array.from(y)]},R):null]})})};Le.displayName=Q;var De="SelectTrigger",ke=n.forwardRef((o,r)=>{const{__scopeSelect:t,disabled:a=!1,...s}=o,d=pe(t),l=q(De,t),c=l.disabled||a,i=$(r,l.onTriggerChange),p=ue(t),S=n.useRef("touch"),[g,I,N]=lt(u=>{const x=p().filter(w=>!w.disabled),P=x.find(w=>w.value===l.value),f=ct(x,u,P);f!==void 0&&l.onValueChange(f.value)}),C=u=>{c||(l.onOpenChange(!0),N()),u&&(l.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(It,{asChild:!0,...d,children:e.jsx(k.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":at(l.value)?"":void 0,...s,ref:i,onClick:O(s.onClick,u=>{u.currentTarget.focus(),S.current!=="mouse"&&C(u)}),onPointerDown:O(s.onPointerDown,u=>{S.current=u.pointerType;const x=u.target;x.hasPointerCapture(u.pointerId)&&x.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(C(u),u.preventDefault())}),onKeyDown:O(s.onKeyDown,u=>{const x=g.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&I(u.key),!(x&&u.key===" ")&&uo.includes(u.key)&&(C(),u.preventDefault())})})})});ke.displayName=De;var Ve="SelectValue",Be=n.forwardRef((o,r)=>{const{__scopeSelect:t,className:a,style:s,children:d,placeholder:l="",...c}=o,i=q(Ve,t),{onValueNodeHasChildrenChange:p}=i,S=d!==void 0,g=$(r,i.onValueNodeChange);return G(()=>{p(S)},[p,S]),e.jsx(k.span,{...c,ref:g,style:{pointerEvents:"none"},children:at(i.value)?e.jsx(e.Fragment,{children:l}):d})});Be.displayName=Ve;var xo="SelectIcon",Fe=n.forwardRef((o,r)=>{const{__scopeSelect:t,children:a,...s}=o;return e.jsx(k.span,{"aria-hidden":!0,...s,ref:r,children:a||"▼"})});Fe.displayName=xo;var vo="SelectPortal",He=o=>e.jsx(jt,{asChild:!0,...o});He.displayName=vo;var ee="SelectContent",We=n.forwardRef((o,r)=>{const t=q(ee,o.__scopeSelect),[a,s]=n.useState();if(G(()=>{s(new DocumentFragment)},[]),!t.open){const d=a;return d?Me.createPortal(e.jsx(Ue,{scope:o.__scopeSelect,children:e.jsx(de.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),d):null}return e.jsx($e,{...o,ref:r})});We.displayName=ee;var F=10,[Ue,Z]=ne(ee),So="SelectContentImpl",wo=Oe("SelectContent.RemoveScroll"),$e=n.forwardRef((o,r)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:d,onPointerDownOutside:l,side:c,sideOffset:i,align:p,alignOffset:S,arrowPadding:g,collisionBoundary:I,collisionPadding:N,sticky:C,hideWhenDetached:u,avoidCollisions:x,...P}=o,f=q(ee,t),[w,H]=n.useState(null),[V,te]=n.useState(null),A=$(r,m=>H(m)),[L,W]=n.useState(null),[U,h]=n.useState(null),v=ue(t),[y,b]=n.useState(!1),R=n.useRef(!1);n.useEffect(()=>{if(w)return Et(w)},[w]),Rt();const j=n.useCallback(m=>{const[_,...D]=v().map(M=>M.ref.current),[T]=D.slice(-1),E=document.activeElement;for(const M of m)if(M===E||(M?.scrollIntoView({block:"nearest"}),M===_&&V&&(V.scrollTop=0),M===T&&V&&(V.scrollTop=V.scrollHeight),M?.focus(),document.activeElement!==E))return},[v,V]),B=n.useCallback(()=>j([L,w]),[j,L,w]);n.useEffect(()=>{y&&B()},[y,B]);const{onOpenChange:K,triggerPointerDownPosRef:z}=f;n.useEffect(()=>{if(w){let m={x:0,y:0};const _=T=>{m={x:Math.abs(Math.round(T.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(T.pageY)-(z.current?.y??0))}},D=T=>{m.x<=10&&m.y<=10?T.preventDefault():w.contains(T.target)||K(!1),document.removeEventListener("pointermove",_),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",_),document.addEventListener("pointerup",D,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",D,{capture:!0})}}},[w,K,z]),n.useEffect(()=>{const m=()=>K(!1);return window.addEventListener("blur",m),window.addEventListener("resize",m),()=>{window.removeEventListener("blur",m),window.removeEventListener("resize",m)}},[K]);const[fe,ae]=lt(m=>{const _=v().filter(E=>!E.disabled),D=_.find(E=>E.ref.current===document.activeElement),T=ct(_,m,D);T&&setTimeout(()=>T.ref.current.focus())}),me=n.useCallback((m,_,D)=>{const T=!R.current&&!D;(f.value!==void 0&&f.value===_||T)&&(W(m),T&&(R.current=!0))},[f.value]),he=n.useCallback(()=>w?.focus(),[w]),oe=n.useCallback((m,_,D)=>{const T=!R.current&&!D;(f.value!==void 0&&f.value===_||T)&&h(m)},[f.value]),le=a==="popper"?Se:Ke,re=le===Se?{side:c,sideOffset:i,align:p,alignOffset:S,arrowPadding:g,collisionBoundary:I,collisionPadding:N,sticky:C,hideWhenDetached:u,avoidCollisions:x}:{};return e.jsx(Ue,{scope:t,content:w,viewport:V,onViewportChange:te,itemRefCallback:me,selectedItem:L,onItemLeave:he,itemTextRefCallback:oe,focusSelectedItem:B,selectedItemText:U,position:a,isPositioned:y,searchRef:fe,children:e.jsx(_t,{as:wo,allowPinchZoom:!0,children:e.jsx(Mt,{asChild:!0,trapped:f.open,onMountAutoFocus:m=>{m.preventDefault()},onUnmountAutoFocus:O(s,m=>{f.trigger?.focus({preventScroll:!0}),m.preventDefault()}),children:e.jsx(At,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(le,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:m=>m.preventDefault(),...P,...re,onPlaced:()=>b(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:O(P.onKeyDown,m=>{const _=m.ctrlKey||m.altKey||m.metaKey;if(m.key==="Tab"&&m.preventDefault(),!_&&m.key.length===1&&ae(m.key),["ArrowUp","ArrowDown","Home","End"].includes(m.key)){let T=v().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(m.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(m.key)){const E=m.target,M=T.indexOf(E);T=T.slice(M+1)}setTimeout(()=>j(T)),m.preventDefault()}})})})})})})});$e.displayName=So;var yo="SelectItemAlignedPosition",Ke=n.forwardRef((o,r)=>{const{__scopeSelect:t,onPlaced:a,...s}=o,d=q(ee,t),l=Z(ee,t),[c,i]=n.useState(null),[p,S]=n.useState(null),g=$(r,A=>S(A)),I=ue(t),N=n.useRef(!1),C=n.useRef(!0),{viewport:u,selectedItem:x,selectedItemText:P,focusSelectedItem:f}=l,w=n.useCallback(()=>{if(d.trigger&&d.valueNode&&c&&p&&u&&x&&P){const A=d.trigger.getBoundingClientRect(),L=p.getBoundingClientRect(),W=d.valueNode.getBoundingClientRect(),U=P.getBoundingClientRect();if(d.dir!=="rtl"){const E=U.left-L.left,M=W.left-E,X=A.left-M,J=A.width+X,ge=Math.max(J,L.width),xe=window.innerWidth-F,ve=Re(M,[F,Math.max(F,xe-ge)]);c.style.minWidth=J+"px",c.style.left=ve+"px"}else{const E=L.right-U.right,M=window.innerWidth-W.right-E,X=window.innerWidth-A.right-M,J=A.width+X,ge=Math.max(J,L.width),xe=window.innerWidth-F,ve=Re(M,[F,Math.max(F,xe-ge)]);c.style.minWidth=J+"px",c.style.right=ve+"px"}const h=I(),v=window.innerHeight-F*2,y=u.scrollHeight,b=window.getComputedStyle(p),R=parseInt(b.borderTopWidth,10),j=parseInt(b.paddingTop,10),B=parseInt(b.borderBottomWidth,10),K=parseInt(b.paddingBottom,10),z=R+j+y+K+B,fe=Math.min(x.offsetHeight*5,z),ae=window.getComputedStyle(u),me=parseInt(ae.paddingTop,10),he=parseInt(ae.paddingBottom,10),oe=A.top+A.height/2-F,le=v-oe,re=x.offsetHeight/2,m=x.offsetTop+re,_=R+j+m,D=z-_;if(_<=oe){const E=h.length>0&&x===h[h.length-1].ref.current;c.style.bottom="0px";const M=p.clientHeight-u.offsetTop-u.offsetHeight,X=Math.max(le,re+(E?he:0)+M+B),J=_+X;c.style.height=J+"px"}else{const E=h.length>0&&x===h[0].ref.current;c.style.top="0px";const X=Math.max(oe,R+u.offsetTop+(E?me:0)+re)+D;c.style.height=X+"px",u.scrollTop=_-oe+u.offsetTop}c.style.margin=`${F}px 0`,c.style.minHeight=fe+"px",c.style.maxHeight=v+"px",a?.(),requestAnimationFrame(()=>N.current=!0)}},[I,d.trigger,d.valueNode,c,p,u,x,P,d.dir,a]);G(()=>w(),[w]);const[H,V]=n.useState();G(()=>{p&&V(window.getComputedStyle(p).zIndex)},[p]);const te=n.useCallback(A=>{A&&C.current===!0&&(w(),f?.(),C.current=!1)},[w,f]);return e.jsx(No,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:N,onScrollButtonChange:te,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:e.jsx(k.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ke.displayName=yo;var Co="SelectPopperPosition",Se=n.forwardRef((o,r)=>{const{__scopeSelect:t,align:a="start",collisionPadding:s=F,...d}=o,l=pe(t);return e.jsx(Ot,{...l,...d,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Se.displayName=Co;var[No,be]=ne(ee,{}),we="SelectViewport",ze=n.forwardRef((o,r)=>{const{__scopeSelect:t,nonce:a,...s}=o,d=Z(we,t),l=be(we,t),c=$(r,d.onViewportChange),i=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(de.Slot,{scope:t,children:e.jsx(k.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:O(s.onScroll,p=>{const S=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:I}=l;if(I?.current&&g){const N=Math.abs(i.current-S.scrollTop);if(N>0){const C=window.innerHeight-F*2,u=parseFloat(g.style.minHeight),x=parseFloat(g.style.height),P=Math.max(u,x);if(P<C){const f=P+N,w=Math.min(C,f),H=f-w;g.style.height=w+"px",g.style.bottom==="0px"&&(S.scrollTop=H>0?H:0,g.style.justifyContent="flex-end")}}}i.current=S.scrollTop})})})]})});ze.displayName=we;var Ge="SelectGroup",[Po,bo]=ne(Ge),Io=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o,s=Pe();return e.jsx(Po,{scope:t,id:s,children:e.jsx(k.div,{role:"group","aria-labelledby":s,...a,ref:r})})});Io.displayName=Ge;var Ye="SelectLabel",qe=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o,s=bo(Ye,t);return e.jsx(k.div,{id:s.id,...a,ref:r})});qe.displayName=Ye;var ie="SelectItem",[jo,Ze]=ne(ie),Xe=n.forwardRef((o,r)=>{const{__scopeSelect:t,value:a,disabled:s=!1,textValue:d,...l}=o,c=q(ie,t),i=Z(ie,t),p=c.value===a,[S,g]=n.useState(d??""),[I,N]=n.useState(!1),C=$(r,f=>i.itemRefCallback?.(f,a,s)),u=Pe(),x=n.useRef("touch"),P=()=>{s||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(jo,{scope:t,value:a,disabled:s,textId:u,isSelected:p,onItemTextChange:n.useCallback(f=>{g(w=>w||(f?.textContent??"").trim())},[]),children:e.jsx(de.ItemSlot,{scope:t,value:a,disabled:s,textValue:S,children:e.jsx(k.div,{role:"option","aria-labelledby":u,"data-highlighted":I?"":void 0,"aria-selected":p&&I,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:O(l.onFocus,()=>N(!0)),onBlur:O(l.onBlur,()=>N(!1)),onClick:O(l.onClick,()=>{x.current!=="mouse"&&P()}),onPointerUp:O(l.onPointerUp,()=>{x.current==="mouse"&&P()}),onPointerDown:O(l.onPointerDown,f=>{x.current=f.pointerType}),onPointerMove:O(l.onPointerMove,f=>{x.current=f.pointerType,s?i.onItemLeave?.():x.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:O(l.onPointerLeave,f=>{f.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:O(l.onKeyDown,f=>{i.searchRef?.current!==""&&f.key===" "||(po.includes(f.key)&&P(),f.key===" "&&f.preventDefault())})})})})});Xe.displayName=ie;var se="SelectItemText",Je=n.forwardRef((o,r)=>{const{__scopeSelect:t,className:a,style:s,...d}=o,l=q(se,t),c=Z(se,t),i=Ze(se,t),p=go(se,t),[S,g]=n.useState(null),I=$(r,P=>g(P),i.onItemTextChange,P=>c.itemTextRefCallback?.(P,i.value,i.disabled)),N=S?.textContent,C=n.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:N},i.value),[i.disabled,i.value,N]),{onNativeOptionAdd:u,onNativeOptionRemove:x}=p;return G(()=>(u(C),()=>x(C)),[u,x,C]),e.jsxs(e.Fragment,{children:[e.jsx(k.span,{id:i.textId,...d,ref:I}),i.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Me.createPortal(d.children,l.valueNode):null]})});Je.displayName=se;var Qe="SelectItemIndicator",et=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o;return Ze(Qe,t).isSelected?e.jsx(k.span,{"aria-hidden":!0,...a,ref:r}):null});et.displayName=Qe;var ye="SelectScrollUpButton",tt=n.forwardRef((o,r)=>{const t=Z(ye,o.__scopeSelect),a=be(ye,o.__scopeSelect),[s,d]=n.useState(!1),l=$(r,a.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=i.scrollTop>0;d(p)};const i=t.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?e.jsx(nt,{...o,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=t;c&&i&&(c.scrollTop=c.scrollTop-i.offsetHeight)}}):null});tt.displayName=ye;var Ce="SelectScrollDownButton",ot=n.forwardRef((o,r)=>{const t=Z(Ce,o.__scopeSelect),a=be(Ce,o.__scopeSelect),[s,d]=n.useState(!1),l=$(r,a.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=i.scrollHeight-i.clientHeight,S=Math.ceil(i.scrollTop)<p;d(S)};const i=t.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?e.jsx(nt,{...o,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=t;c&&i&&(c.scrollTop=c.scrollTop+i.offsetHeight)}}):null});ot.displayName=Ce;var nt=n.forwardRef((o,r)=>{const{__scopeSelect:t,onAutoScroll:a,...s}=o,d=Z("SelectScrollButton",t),l=n.useRef(null),c=ue(t),i=n.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return n.useEffect(()=>()=>i(),[i]),G(()=>{c().find(S=>S.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(k.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:O(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(a,50))}),onPointerMove:O(s.onPointerMove,()=>{d.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(a,50))}),onPointerLeave:O(s.onPointerLeave,()=>{i()})})}),To="SelectSeparator",rt=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o;return e.jsx(k.div,{"aria-hidden":!0,...a,ref:r})});rt.displayName=To;var Ne="SelectArrow",Eo=n.forwardRef((o,r)=>{const{__scopeSelect:t,...a}=o,s=pe(t),d=q(Ne,t),l=Z(Ne,t);return d.open&&l.position==="popper"?e.jsx(Lt,{...s,...a,ref:r}):null});Eo.displayName=Ne;var Ro="SelectBubbleInput",st=n.forwardRef(({__scopeSelect:o,value:r,...t},a)=>{const s=n.useRef(null),d=$(a,s),l=Xt(r);return n.useEffect(()=>{const c=s.current;if(!c)return;const i=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(i,"value").set;if(l!==r&&S){const g=new Event("change",{bubbles:!0});S.call(c,r),c.dispatchEvent(g)}},[l,r]),e.jsx(k.select,{...t,style:{...bt,...t.style},ref:d,defaultValue:r})});st.displayName=Ro;function at(o){return o===""||o===void 0}function lt(o){const r=Tt(o),t=n.useRef(""),a=n.useRef(0),s=n.useCallback(l=>{const c=t.current+l;r(c),(function i(p){t.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>i(""),1e3))})(c)},[r]),d=n.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,s,d]}function ct(o,r,t){const s=r.length>1&&Array.from(r).every(p=>p===r[0])?r[0]:r,d=t?o.indexOf(t):-1;let l=_o(o,Math.max(d,0));s.length===1&&(l=l.filter(p=>p!==t));const i=l.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==t?i:void 0}function _o(o,r){return o.map((t,a)=>o[(r+a)%o.length])}var Mo=Le,it=ke,Ao=Be,Oo=Fe,Lo=He,dt=We,Do=ze,ut=qe,pt=Xe,ko=Je,Vo=et,ft=tt,mt=ot,ht=rt;const Bo=Mo,Fo=Ao,gt=n.forwardRef(({className:o,children:r,...t},a)=>e.jsxs(it,{ref:a,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[r,e.jsx(Oo,{asChild:!0,children:e.jsx(Ae,{className:"h-4 w-4 opacity-50"})})]}));gt.displayName=it.displayName;const xt=n.forwardRef(({className:o,...r},t)=>e.jsx(ft,{ref:t,className:Y("flex cursor-default items-center justify-center py-1",o),...r,children:e.jsx(to,{className:"h-4 w-4"})}));xt.displayName=ft.displayName;const vt=n.forwardRef(({className:o,...r},t)=>e.jsx(mt,{ref:t,className:Y("flex cursor-default items-center justify-center py-1",o),...r,children:e.jsx(Ae,{className:"h-4 w-4"})}));vt.displayName=mt.displayName;const St=n.forwardRef(({className:o,children:r,position:t="popper",...a},s)=>e.jsx(Lo,{children:e.jsxs(dt,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...a,children:[e.jsx(xt,{}),e.jsx(Do,{className:Y("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(vt,{})]})}));St.displayName=dt.displayName;const Ho=n.forwardRef(({className:o,...r},t)=>e.jsx(ut,{ref:t,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...r}));Ho.displayName=ut.displayName;const ce=n.forwardRef(({className:o,children:r,...t},a)=>e.jsxs(pt,{ref:a,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Vo,{children:e.jsx(Dt,{className:"h-4 w-4"})})}),e.jsx(ko,{children:r})]}));ce.displayName=pt.displayName;const Wo=n.forwardRef(({className:o,...r},t)=>e.jsx(ht,{ref:t,className:Y("-mx-1 my-1 h-px bg-muted",o),...r}));Wo.displayName=ht.displayName;const en=()=>{const[o,r]=kt(),{toast:t}=Vt(),[a,s]=n.useState([]),[d,l]=n.useState([]),[c,i]=n.useState(!0),[p,S]=n.useState(!1),[g,I]=n.useState(1),[N,C]=n.useState(!0),[u,x]=n.useState([0,1e3]),[P,f]=n.useState([]),[w,H]=n.useState("featured"),[V,te]=n.useState(20);n.useRef(null),n.useEffect(()=>{(async()=>{try{const v=await Ee.fetchCategories();if(v){const y=[];v.forEach(b=>{y.push({id:b.categoryFirstId,name:b.categoryFirstName,level:1}),b.categoryFirstList?.forEach(R=>{y.push({id:R.categorySecondId,name:R.categorySecondName,level:2}),R.categorySecondList?.forEach(j=>{y.push({id:j.categoryId,name:j.categoryName,level:3})})})}),l(y)}}catch(v){console.error("Error fetching categories",v)}})()},[]);const A=async(h,v=!1)=>{v?i(!0):S(!0);try{const y=o.get("category"),b=o.get("search"),R={page:h,size:20,categoryId:y||void 0,keyWord:b||void 0},j=await Ee.getSupplierProducts(R);j&&j.products?(s(h===1?j.products:B=>[...B,...j.products]),C(j.products.length===20)):C(!1)}catch(y){console.error("Error fetching products",y),t({title:"Error",description:"Failed to load products.",variant:"destructive"})}finally{i(!1),S(!1)}};n.useEffect(()=>{I(1),A(1,!0)},[o]),n.useEffect(()=>{g>1&&A(g)},[g]),n.useEffect(()=>{const h=()=>{if(c||p||!N)return;const v=window.innerHeight,y=window.scrollY,b=document.documentElement.scrollHeight;v+y>=b-500&&(console.log("Triggering next page",g+1),I(R=>R+1))};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[c,p,N,g]);const L=Bt.useMemo(()=>{let h=[...a];return h=h.filter(v=>{const y=String(v.sellPrice||"0"),b=y.includes("-")?parseFloat(y.split("-")[0]):parseFloat(y);return b>=u[0]&&b<=u[1]}),w==="price-asc"?h.sort((v,y)=>{const b=String(v.sellPrice).includes("-")?parseFloat(v.sellPrice.split("-")[0]):parseFloat(v.sellPrice),R=String(y.sellPrice).includes("-")?parseFloat(y.sellPrice.split("-")[0]):parseFloat(y.sellPrice);return b-R}):w==="price-desc"&&h.sort((v,y)=>{const b=String(v.sellPrice).includes("-")?parseFloat(v.sellPrice.split("-")[0]):parseFloat(v.sellPrice);return(String(y.sellPrice).includes("-")?parseFloat(y.sellPrice.split("-")[0]):parseFloat(y.sellPrice))-b}),h},[a,u,w]),W=h=>{const v=new URLSearchParams(o);P.includes(h)?(v.delete("category"),f([])):(v.set("category",h),f([h])),r(v)},U=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Categories"}),e.jsx("div",{className:"space-y-1 max-h-[400px] overflow-y-auto pr-2 scrollbar-thin",children:d.filter(h=>h.level===1).map(h=>e.jsxs("div",{className:"flex items-center space-x-2 py-1",children:[e.jsx(Zt,{id:`cat-${h.id}`,checked:P.includes(h.id),onCheckedChange:()=>W(h.id)}),e.jsx("label",{htmlFor:`cat-${h.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:h.name})]},h.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Price Range"}),e.jsx(qt,{defaultValue:[0,1e3],max:1e3,step:10,value:u,onValueChange:x,className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{children:["₹",u[0]]}),e.jsxs("span",{children:["₹",u[1]]})]})]})]});return e.jsx("div",{className:"container py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"hidden md:block w-64 flex-shrink-0 space-y-8",children:e.jsx(U,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Shop"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ft,{children:[e.jsx(Ht,{asChild:!0,children:e.jsxs(je,{variant:"outline",className:"md:hidden",children:[e.jsx(Jt,{className:"mr-2 h-4 w-4"})," Filters"]})}),e.jsxs(Wt,{side:"left",children:[e.jsxs(Ut,{children:[e.jsx($t,{children:"Filters"}),e.jsx(Kt,{className:"sr-only",children:"Filter products by category and price range."})]}),e.jsx("div",{className:"mt-6",children:e.jsx(U,{})})]})]}),e.jsxs(Bo,{value:w,onValueChange:H,children:[e.jsx(gt,{className:"w-[180px]",children:e.jsx(Fo,{placeholder:"Sort by"})}),e.jsxs(St,{children:[e.jsx(ce,{value:"featured",children:"Featured"}),e.jsx(ce,{value:"price-asc",children:"Price: Low to High"}),e.jsx(ce,{value:"price-desc",children:"Price: High to Low"})]})]})]})]}),c?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6",children:Array.from({length:20}).map((h,v)=>e.jsx(Gt,{},v))}):L.length>0?e.jsxs(e.Fragment,{children:[e.jsx(Te.div,{layout:!0,className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6",children:e.jsx(zt,{mode:"popLayout",children:L.map((h,v)=>e.jsx(Te.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:v%20*.05},children:e.jsx(Yt,{product:h})},h.id||v))})}),(N||p)&&e.jsxs("div",{className:"h-20 flex items-center justify-center mt-8 mb-20",children:[e.jsx(Qt,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading more products..."})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-xl text-muted-foreground",children:"No products found."}),e.jsx(je,{variant:"link",onClick:()=>{f([]),x([0,1e3]),r({})},children:"Clear all filters"})]})]})]})})};export{en as default};
