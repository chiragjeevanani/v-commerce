import{r as i,j as e,A as E,m as o,L as l,B as x,C as I,a as z}from"./index-DEuHK2Q3.js";import{p as h}from"./products.service-CixRTqH0.js";import{S as M,P as R}from"./SkeletonCard-Bc6wcaWu.js";import{A as f}from"./arrow-right-jo4rUUB6.js";import{L as $}from"./layout-grid-t2Dlss5p.js";import{Z as H}from"./zap-Zsl1xbBW.js";import"./mockData-Da8oLpbF.js";import"./card-D9v-e9xN.js";import"./eye-DO0kEvpG.js";let N=!1;const K=()=>{const[n,c]=i.useState(0),[r,k]=i.useState([]),[D,S]=i.useState(!0),[y,b]=i.useState([]),[L,C]=i.useState([]),[d,j]=i.useState(!0),[v,P]=i.useState(1),[p,m]=i.useState(!0),[g,w]=i.useState(!1);i.useEffect(()=>{(async()=>{try{const a=await(await fetch("https://api.vcommerce.shop/api/v1/hero-banners")).json();a.success&&a.data&&k(a.data)}catch(s){console.error("Failed to fetch banners:",s)}finally{S(!1)}})()},[]),i.useEffect(()=>{let t=!0;return(async()=>{N||j(!0);try{const[a,u]=await Promise.all([h.getSupplierProducts({page:1,size:20}),h.fetchCategories()]);t&&(a?.products&&(b(a.products),m(a.products.length>=20)),u&&C(u))}catch(a){console.error("Failed to fetch data:",a)}finally{t&&(j(!1),N=!0)}})(),()=>{t=!1}},[]),i.useEffect(()=>{if(r.length===0)return;const t=setInterval(()=>{c(s=>(s+1)%r.length)},5e3);return()=>clearInterval(t)},[r.length]);const B=async()=>{if(g||!p)return;w(!0);const t=v+1;try{const s=await h.getSupplierProducts({page:t,size:20});s?.products&&s.products.length>0?(b(a=>[...a,...s.products]),P(t),m(s.products.length>=20)):m(!1)}catch(s){console.error("Failed to load more products:",s),m(!1)}finally{w(!1)}};i.useEffect(()=>{const t=()=>{const s=window.innerHeight+window.scrollY,a=document.documentElement.scrollHeight-600;s>=a&&B()};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[g,p,v]);const F=()=>{r.length!==0&&c(t=>(t+1)%r.length)},A=()=>{r.length!==0&&c(t=>(t-1+r.length)%r.length)};return e.jsxs("div",{className:"flex flex-col min-h-screen gap-10 pb-10",children:[r.length>0&&e.jsxs("section",{className:"relative h-[600px] w-full overflow-hidden bg-background",children:[e.jsx(E,{mode:"wait",children:e.jsxs(o.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-[10s] ease-linear scale-110",style:{backgroundImage:`url(${r[n].image})`,backgroundColor:"hsl(var(--muted))",animation:"kenburns 20s infinite alternate"},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/90 via-background/40 to-transparent"})}),e.jsx("div",{className:"relative container h-full flex flex-col justify-center items-start p-6 md:p-12",children:e.jsxs(o.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2,duration:.6},className:"max-w-2xl",children:[e.jsx(o.span,{className:"inline-block px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold tracking-widest uppercase mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:"New Arrival"}),e.jsx(o.h1,{className:"text-5xl md:text-7xl font-bold mb-6 text-foreground leading-tight",children:r[n].title.split(" ").map((t,s)=>e.jsx(o.span,{className:"inline-block mr-4",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5+s*.1},children:t},s))}),e.jsx(o.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"text-lg md:text-xl mb-10 text-muted-foreground max-w-lg leading-relaxed",children:r[n].description}),e.jsx(o.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},className:"flex gap-4",children:e.jsx(l,{to:"/shop",children:e.jsxs(x,{size:"lg",className:"text-lg px-8 py-7 rounded-full shadow-lg hover:shadow-primary/20 transition-all active:scale-95 group",children:[r[n].cta,e.jsx(f,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})})})]})})]},n)}),e.jsxs("div",{className:"absolute bottom-8 right-12 flex gap-4 z-10",children:[e.jsx(x,{variant:"outline",size:"icon",className:"rounded-full bg-background/20 backdrop-blur-md border-white/20 hover:bg-primary hover:text-primary-foreground transition-all duration-300",onClick:A,children:e.jsx(I,{className:"h-6 w-6"})}),e.jsx(x,{variant:"outline",size:"icon",className:"rounded-full bg-background/20 backdrop-blur-md border-white/20 hover:bg-primary hover:text-primary-foreground transition-all duration-300",onClick:F,children:e.jsx(z,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute bottom-8 left-12 flex gap-2 z-10",children:r.map((t,s)=>e.jsx("button",{onClick:()=>c(s),className:`h-1.5 transition-all duration-500 rounded-full ${s===n?"w-8 bg-primary":"w-2 bg-primary/20"}`},s))})]}),e.jsxs("section",{className:"container py-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-10 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:e.jsx($,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Browse Categories"}),e.jsx("p",{className:"text-muted-foreground text-sm uppercase font-bold tracking-tighter opacity-50",children:"Discover by subcategory"})]})]}),e.jsxs(l,{to:"/shop",className:"text-sm font-bold uppercase tracking-widest text-indigo-600 hover:opacity-70 transition-opacity flex items-center gap-2",children:["Explore All ",e.jsx(f,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d?Array.from({length:6}).map((t,s)=>e.jsx("div",{className:"h-40 rounded-2xl bg-muted animate-pulse"},s)):L.slice(0,6).map((t,s)=>e.jsxs(o.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:s*.1},className:"group relative overflow-hidden bg-white hover:bg-indigo-50/30 border border-slate-100 rounded-[2rem] p-6 transition-all duration-500 shadow-sm hover:shadow-xl hover:-translate-y-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{to:`/shop?category=${t.categoryFirstId}`,children:e.jsx("h3",{className:"text-xl font-black text-slate-900 group-hover:text-indigo-600 transition-colors uppercase italic tracking-tighter",children:t.categoryFirstName})}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-bold tracking-widest uppercase",children:"Popular Subcategories"})]}),e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-50 flex items-center justify-center group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500",children:e.jsx(H,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.categoryFirstList?.slice(0,5).map((a,u)=>e.jsx(l,{to:`/shop?category=${a.categorySecondId}`,className:"px-3 py-1.5 rounded-full bg-slate-50 border border-slate-100 text-[11px] font-bold text-slate-600 hover:bg-indigo-600 hover:text-white hover:border-transparent transition-all duration-300",children:a.categorySecondName},a.categorySecondId)),t.categoryFirstList?.length>5&&e.jsxs("span",{className:"text-[11px] font-bold text-indigo-600 py-1.5 px-2",children:["+",t.categoryFirstList.length-5," More"]})]})]},t.categoryFirstId))})]}),e.jsxs("section",{className:"container py-12 mb-12",children:[e.jsxs("div",{className:"flex items-end justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Featured Products"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Quality products selected just for you."})]}),e.jsxs(l,{to:"/shop",className:"group flex items-center gap-2 text-sm font-bold uppercase tracking-widest text-primary",children:["View All ",e.jsx(f,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4 lg:gap-5",children:d?Array.from({length:10}).map((t,s)=>e.jsx(M,{},s)):y.map((t,s)=>e.jsx(o.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{delay:s%20*.05,duration:.4},children:e.jsx(R,{product:t})},t.pid||t.id))},d?"loading":"loaded"),g&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[e.jsx("div",{className:"h-6 w-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Loading more products..."})]})}),!d&&!p&&y.length>0&&e.jsx("p",{className:"text-center text-muted-foreground text-sm mt-8",children:"You've reached the end of our collection"})]})]})};export{K as default};
