import{O as g,E as j,j as e,m as n,L as c,B as m,T as x,x as f}from"./index-DhQy7Vb3.js";import{C as w,a as b,b as N}from"./card-D8EwhQuE.js";import{E as C}from"./eye-CmyYM12b.js";const E=({product:s})=>{const{addToCart:o}=g(),{toast:l}=j(),t=s.productNameEn||s.name,h=(a=>{if(!a)return"";if(typeof a!="string")return a;try{if(a.startsWith("[")||a.startsWith("{")){const r=JSON.parse(a);return Array.isArray(r)?r[0]:a}return a}catch{return a}})(s.productImage||s.image),u=a=>{if(!a)return"₹0";const r=String(a);return r.includes("--")?r.split("--").map(d=>`₹${d.trim()}`).join(" - "):r.includes("-")?r.split("-").map(d=>`₹${d.trim()}`).join(" - "):`₹${r}`},v=s.sellPrice?u(s.sellPrice):u(s.discountPrice||s.price),i=s.pid||s.id,y=s.categoryName||s.category,p=a=>{a&&a.preventDefault(),o({...s,id:i,name:t,image:h}),l({title:"Added to cart",description:`${t} added to your cart.`})};return e.jsx(n.div,{whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},className:"group h-full",children:e.jsxs(w,{className:"h-full flex flex-col overflow-hidden border-none shadow-sm hover:shadow-2xl transition-all duration-500 bg-card rounded-2xl",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted shrink-0",children:[e.jsx(c,{to:`/product/${i}`,className:"block h-full w-full bg-white",children:e.jsx(n.img,{src:h,alt:t,className:"h-full w-full object-contain p-3 transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-3 bg-black/40 backdrop-blur-[2px] opacity-0 group-hover:opacity-100 transition-all duration-300 hidden md:flex pointer-events-none",children:[e.jsx(n.div,{initial:{y:20,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},className:"group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-75 pointer-events-auto",children:e.jsx(m,{size:"icon",variant:"secondary",className:"rounded-full h-12 w-12 shadow-xl bg-white text-primary hover:bg-primary hover:text-white border-none",onClick:p,children:e.jsx(x,{className:"h-5 w-5"})})}),e.jsx(n.div,{initial:{y:20,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},className:"group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-150 pointer-events-auto",children:e.jsx(m,{size:"icon",variant:"secondary",className:"rounded-full h-12 w-12 shadow-xl bg-white text-primary hover:bg-primary hover:text-white border-none",asChild:!0,children:e.jsx(c,{to:`/product/${i}`,children:e.jsx(C,{className:"h-5 w-5"})})})})]})]}),e.jsxs(b,{className:"p-3 md:p-4 flex-grow",children:[e.jsx(c,{to:`/product/${i}`,children:e.jsx("h3",{className:"line-clamp-1 text-sm md:text-base font-bold text-foreground hover:text-primary transition-colors",children:t})}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-1 font-medium uppercase tracking-wider",children:y})]}),e.jsxs(N,{className:"p-3 md:p-4 pt-0 flex items-center justify-between gap-2",children:[e.jsx("div",{className:"flex items-center gap-2 min-w-0",children:e.jsx("span",{className:"text-base md:text-lg font-black text-primary truncate",children:v})}),e.jsx("div",{className:"flex md:hidden gap-2 shrink-0",children:e.jsx(m,{size:"icon",variant:"secondary",className:"rounded-full h-9 w-9 bg-primary/10 text-primary hover:bg-primary hover:text-white border-none",onClick:p,children:e.jsx(x,{className:"h-4 w-4"})})})]})]})})},S=({className:s,aspectRatio:o="square"})=>{const l={square:"aspect-square",wide:"aspect-video",portrait:"aspect-[3/4]"};return e.jsxs("div",{className:f("animate-pulse space-y-3",s),children:[e.jsx("div",{className:f("bg-gradient-to-r from-muted via-muted/50 to-muted bg-[length:200%_100%] animate-shimmer rounded-xl overflow-hidden",l[o])}),e.jsxs("div",{className:"space-y-2 px-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded-md w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded-md w-1/2"}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"h-5 bg-muted rounded-md w-1/3"}),e.jsx("div",{className:"h-7 w-7 bg-muted rounded-full"})]})]})]})};export{E as P,S};
