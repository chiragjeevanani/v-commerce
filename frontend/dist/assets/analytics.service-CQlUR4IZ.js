import{j as e,m as f,Q as o}from"./index-BpRMWdVM.js";import{C as c,c as i,d,a as x}from"./card-CyVSnPS_.js";const y=({title:s,data:t,type:h="bar"})=>{if(h==="pie")return e.jsxs(c,{className:"h-full",children:[e.jsx(i,{children:e.jsx(d,{className:"text-lg font-semibold",children:s})}),e.jsxs(x,{className:"flex flex-col items-center justify-center pt-0",children:[e.jsxs("div",{className:"relative h-48 w-48 mb-6",children:[e.jsx("svg",{viewBox:"0 0 100 100",className:"h-full w-full rotate-[-90deg]",children:t.map((r,a)=>{let l=0;for(let n=0;n<a;n++)l+=t[n].value;const m=`${r.value} 100`,u=-l;return e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:r.color,strokeWidth:"20",strokeDasharray:m,strokeDashoffset:u,className:"transition-all duration-1000"},a)})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[e.jsx("span",{className:"text-2xl font-bold",children:"1,248"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Total Orders"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 w-full",children:t.map((r,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:r.color}}),e.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[r.name," (",r.value,"%)"]})]},a))})]})]});const p=Math.max(...t.map(r=>r.value));return e.jsxs(c,{className:"h-full",children:[e.jsxs(i,{className:"flex flex-row items-center justify-between",children:[e.jsx(d,{className:"text-lg font-semibold",children:s}),e.jsxs("select",{className:"bg-transparent text-xs text-muted-foreground border-none outline-none cursor-pointer",children:[e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Monthly"})]})]}),e.jsx(x,{className:"pt-0",children:e.jsx("div",{className:"h-64 flex items-end justify-between gap-2 px-2 mt-4",children:t.map((r,a)=>e.jsxs("div",{className:"group relative flex-1 flex flex-col items-center",children:[e.jsx(f.div,{initial:{height:0},animate:{height:`${r.value/p*100}%`},transition:{delay:a*.05,duration:.8},className:"w-full bg-primary/20 hover:bg-primary rounded-t-sm transition-colors relative",children:e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-popover text-popover-foreground text-[10px] px-2 py-1 rounded border shadow-sm opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:["$",r.value,"k"]})}),e.jsx("span",{className:"text-[10px] text-muted-foreground mt-2",children:r.label})]},a))})})]})},v={getKPIData:async()=>{try{return(await o.get("/admin/analytics/kpis")).data.data}catch(s){throw console.error("Fetch KPI Error:",s),s}},getSalesChartData:async(s="month")=>{try{return(await o.get("/admin/analytics/sales",{params:{range:s}})).data.data}catch(t){throw console.error("Fetch Sales Chart Error:",t),t}},getOrderStatusDistribution:async()=>{try{return(await o.get("/admin/analytics/order-status")).data.data}catch(s){throw console.error("Fetch Status Distribution Error:",s),s}},getTopProducts:async()=>{try{return(await o.get("/admin/analytics/top-products")).data.data}catch(s){throw console.error("Fetch Top Products Error:",s),s}},getRegionalSales:async()=>{try{return(await o.get("/admin/analytics/regional-sales")).data.data}catch(s){throw console.error("Fetch Regional Sales Error:",s),s}}};export{y as S,v as a};
