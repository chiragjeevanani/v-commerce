import{k as v,b as g,j as e,m as n,L as l,B as c,n as p}from"./index-BpRMWdVM.js";import{C as j,a as w,b}from"./card-CyVSnPS_.js";import{E as N}from"./eye-D0NRzLWa.js";const T=({product:s})=>{const{addToCart:x}=v(),{toast:u}=g(),a=s.productNameEn||s.name,d=(r=>{if(!r)return"";if(typeof r!="string")return r;try{if(r.startsWith("[")||r.startsWith("{")){const t=JSON.parse(r);return Array.isArray(t)?t[0]:r}return r}catch{return r}})(s.productImage||s.image),h=r=>{if(!r)return"₹0";const t=String(r);return t.includes("--")?t.split("--").map(o=>`₹${o.trim()}`).join(" - "):t.includes("-")?t.split("-").map(o=>`₹${o.trim()}`).join(" - "):`₹${t}`},f=s.sellPrice?h(s.sellPrice):h(s.discountPrice||s.price),i=s.pid||s.id,y=s.categoryName||s.category,m=r=>{r&&r.preventDefault(),x({...s,id:i,name:a,image:d}),u({title:"Added to cart",description:`${a} added to your cart.`})};return e.jsx(n.div,{whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},className:"group h-full",children:e.jsxs(j,{className:"h-full flex flex-col overflow-hidden border-none shadow-sm hover:shadow-2xl transition-all duration-500 bg-card rounded-2xl",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted shrink-0",children:[e.jsx(l,{to:`/product/${i}`,className:"block h-full w-full bg-white",children:e.jsx(n.img,{src:d,alt:a,className:"h-full w-full object-contain p-3 transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-3 bg-black/40 backdrop-blur-[2px] opacity-0 group-hover:opacity-100 transition-all duration-300 hidden md:flex pointer-events-none",children:[e.jsx(n.div,{initial:{y:20,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},className:"group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-75 pointer-events-auto",children:e.jsx(c,{size:"icon",variant:"secondary",className:"rounded-full h-12 w-12 shadow-xl bg-white text-primary hover:bg-primary hover:text-white border-none",onClick:m,children:e.jsx(p,{className:"h-5 w-5"})})}),e.jsx(n.div,{initial:{y:20,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},className:"group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-150 pointer-events-auto",children:e.jsx(c,{size:"icon",variant:"secondary",className:"rounded-full h-12 w-12 shadow-xl bg-white text-primary hover:bg-primary hover:text-white border-none",asChild:!0,children:e.jsx(l,{to:`/product/${i}`,children:e.jsx(N,{className:"h-5 w-5"})})})})]})]}),e.jsxs(w,{className:"p-3 md:p-4 flex-grow",children:[e.jsx(l,{to:`/product/${i}`,children:e.jsx("h3",{className:"line-clamp-1 text-sm md:text-base font-bold text-foreground hover:text-primary transition-colors",children:a})}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-1 font-medium uppercase tracking-wider",children:y})]}),e.jsxs(b,{className:"p-3 md:p-4 pt-0 flex items-center justify-between gap-2",children:[e.jsx("div",{className:"flex items-center gap-2 min-w-0",children:e.jsx("span",{className:"text-base md:text-lg font-black text-primary truncate",children:f})}),e.jsx("div",{className:"flex md:hidden gap-2 shrink-0",children:e.jsx(c,{size:"icon",variant:"secondary",className:"rounded-full h-9 w-9 bg-primary/10 text-primary hover:bg-primary hover:text-white border-none",onClick:m,children:e.jsx(p,{className:"h-4 w-4"})})})]})]})})};export{T as P};
