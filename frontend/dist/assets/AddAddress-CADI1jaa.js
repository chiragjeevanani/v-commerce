import{O as p,X as h,r as i,j as e,B as x,Y as f,Z as n}from"./index-DEuHK2Q3.js";import{C as N,c as y,d as g,e as b,a as j}from"./card-D9v-e9xN.js";import{A as v}from"./AddressForm-Djt1ivib.js";import{a as A}from"./address.service-4sVGslHd.js";import{A as C}from"./arrow-left-C4Dyo6zU.js";import"./label-C88YU_qe.js";import"./index-E6ZXw09v.js";const L=()=>{const t=p(),{user:a}=h(),[d,r]=i.useState(!1),[o,c]=i.useState({firstName:a?.fullName?.split(" ")[0]||"",lastName:a?.fullName?.split(" ")[1]||"",address:"",city:"",state:"",zip:"",phoneNumber:a?.phoneNumber||""}),l=s=>{c({...o,[s.target.name]:s.target.value})},m=async s=>{r(!0);try{await A.addAddress({fullName:`${s.firstName} ${s.lastName}`,street:s.address,city:s.city,state:s.state,country:"India",zipCode:s.zip,phoneNumber:s.phoneNumber,addressType:"Home"}),n({title:"Success",description:"Address added successfully"}),t("/account?tab=address")}catch(u){n({title:"Error",description:u.message||"Failed to add address",variant:"destructive"})}finally{r(!1)}};return e.jsxs("div",{className:"container py-8 max-w-2xl",children:[e.jsxs(x,{variant:"ghost",className:"mb-6 hover:bg-transparent hover:text-primary transition-colors group p-0",onClick:()=>t("/account"),children:[e.jsx(C,{className:"mr-2 h-4 w-4 transition-transform group-hover:-translate-x-1"})," Back to Account"]}),e.jsxs(N,{className:"border-none shadow-lg",children:[e.jsxs(y,{children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mb-4",children:e.jsx(f,{className:"w-6 h-6"})}),e.jsx(g,{className:"text-2xl",children:"Add New Address"}),e.jsx(b,{children:"Enter your delivery details below."})]}),e.jsx(j,{children:e.jsx(v,{formData:o,handleChange:l,onSubmit:m,isLoading:d,onCancel:()=>t("/account"),showSubmitButton:!0})})]})]})};export{L as default};
